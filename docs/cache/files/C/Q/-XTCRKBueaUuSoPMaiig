1651112565
AwuilbDvXz%3Afcfdfefc7c1fad87021d90b9dc2a7234-9dc98b0d85c55c4911acc8ceb55a6a45
s:10480:"TzozMzoicGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlIjoxMjp7czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBkb2NCbG9jayI7TjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGhhc2giO3M6MzI6IjlkYzk4YjBkODVjNTVjNDkxMWFjYzhjZWI1NWE2YTQ1IjtzOjM5OiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAG5hbWUiO3M6MzE6IlJlc2V0UGFzc3dvcmRDb250cm9sbGVyLnRwbC5waHAiO3M6Mzk6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAcGF0aCI7czo5NjoidmVuZG9yL3N5bWZvbnkvbWFrZXItYnVuZGxlL3NyYy9SZXNvdXJjZXMvc2tlbGV0b24vcmVzZXRQYXNzd29yZC9SZXNldFBhc3N3b3JkQ29udHJvbGxlci50cGwucGhwIjtzOjQxOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAHNvdXJjZSI7czo2OTc1OiI8Pz0gIjw/cGhwXG4iID8+CgpuYW1lc3BhY2UgPD89ICRuYW1lc3BhY2UgPz47Cgp1c2UgPD89ICR1c2VyX2Z1bGxfY2xhc3NfbmFtZSA/PjsKdXNlIDw/PSAkcmVzZXRfZm9ybV90eXBlX2Z1bGxfY2xhc3NfbmFtZSA/PjsKdXNlIDw/PSAkcmVxdWVzdF9mb3JtX3R5cGVfZnVsbF9jbGFzc19uYW1lID8+Owp1c2UgU3ltZm9ueVxCcmlkZ2VcVHdpZ1xNaW1lXFRlbXBsYXRlZEVtYWlsOwp1c2UgU3ltZm9ueVxCdW5kbGVcRnJhbWV3b3JrQnVuZGxlXENvbnRyb2xsZXJcQWJzdHJhY3RDb250cm9sbGVyOwp1c2UgU3ltZm9ueVxDb21wb25lbnRcSHR0cEZvdW5kYXRpb25cUmVkaXJlY3RSZXNwb25zZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XEh0dHBGb3VuZGF0aW9uXFJlcXVlc3Q7CnVzZSBTeW1mb255XENvbXBvbmVudFxIdHRwRm91bmRhdGlvblxSZXNwb25zZTsKdXNlIFN5bWZvbnlcQ29tcG9uZW50XE1haWxlclxNYWlsZXJJbnRlcmZhY2U7CnVzZSBTeW1mb255XENvbXBvbmVudFxNaW1lXEFkZHJlc3M7CnVzZSBTeW1mb255XENvbXBvbmVudFxSb3V0aW5nXEFubm90YXRpb25cUm91dGU7CnVzZSBTeW1mb255XENvbXBvbmVudFxTZWN1cml0eVxDb3JlXEVuY29kZXJcVXNlclBhc3N3b3JkRW5jb2RlckludGVyZmFjZTsKdXNlIFN5bWZvbnlDYXN0c1xCdW5kbGVcUmVzZXRQYXNzd29yZFxDb250cm9sbGVyXFJlc2V0UGFzc3dvcmRDb250cm9sbGVyVHJhaXQ7CnVzZSBTeW1mb255Q2FzdHNcQnVuZGxlXFJlc2V0UGFzc3dvcmRcRXhjZXB0aW9uXFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2U7CnVzZSBTeW1mb255Q2FzdHNcQnVuZGxlXFJlc2V0UGFzc3dvcmRcUmVzZXRQYXNzd29yZEhlbHBlckludGVyZmFjZTsKCjw/cGhwIGlmICgkdXNlX2F0dHJpYnV0ZXMpIHsgPz4KI1tSb3V0ZSgnL3Jlc2V0LXBhc3N3b3JkJyldCjw/cGhwIH0gZWxzZSB7ID8+Ci8qKgogKiBAUm91dGUoIi9yZXNldC1wYXNzd29yZCIpCiAqLwo8P3BocCB9ID8+CmNsYXNzIDw/PSAkY2xhc3NfbmFtZSA/PiBleHRlbmRzIEFic3RyYWN0Q29udHJvbGxlcgp7CiAgICB1c2UgUmVzZXRQYXNzd29yZENvbnRyb2xsZXJUcmFpdDsKCiAgICBwcml2YXRlICRyZXNldFBhc3N3b3JkSGVscGVyOwoKICAgIHB1YmxpYyBmdW5jdGlvbiBfX2NvbnN0cnVjdChSZXNldFBhc3N3b3JkSGVscGVySW50ZXJmYWNlICRyZXNldFBhc3N3b3JkSGVscGVyKQogICAgewogICAgICAgICR0aGlzLT5yZXNldFBhc3N3b3JkSGVscGVyID0gJHJlc2V0UGFzc3dvcmRIZWxwZXI7CiAgICB9CgogICAgLyoqCiAgICAgKiBEaXNwbGF5ICYgcHJvY2VzcyBmb3JtIHRvIHJlcXVlc3QgYSBwYXNzd29yZCByZXNldC4KPD9waHAgaWYgKCR1c2VfYXR0cmlidXRlcykgeyA/PgogICAgICovCiAgICAjW1JvdXRlKCcnLCBuYW1lOiAnYXBwX2ZvcmdvdF9wYXNzd29yZF9yZXF1ZXN0JyldCjw/cGhwIH0gZWxzZSB7ID8+CiAgICAgKgogICAgICogQFJvdXRlKCIiLCBuYW1lPSJhcHBfZm9yZ290X3Bhc3N3b3JkX3JlcXVlc3QiKQogICAgICovCjw/cGhwIH0gPz4KICAgIHB1YmxpYyBmdW5jdGlvbiByZXF1ZXN0KFJlcXVlc3QgJHJlcXVlc3QsIE1haWxlckludGVyZmFjZSAkbWFpbGVyKTogUmVzcG9uc2UKICAgIHsKICAgICAgICAkZm9ybSA9ICR0aGlzLT5jcmVhdGVGb3JtKDw/PSAkcmVxdWVzdF9mb3JtX3R5cGVfY2xhc3NfbmFtZSA/Pjo6Y2xhc3MpOwogICAgICAgICRmb3JtLT5oYW5kbGVSZXF1ZXN0KCRyZXF1ZXN0KTsKCiAgICAgICAgaWYgKCRmb3JtLT5pc1N1Ym1pdHRlZCgpICYmICRmb3JtLT5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgcmV0dXJuICR0aGlzLT5wcm9jZXNzU2VuZGluZ1Bhc3N3b3JkUmVzZXRFbWFpbCgKICAgICAgICAgICAgICAgICRmb3JtLT5nZXQoJzw/PSAkZW1haWxfZmllbGQgPz4nKS0+Z2V0RGF0YSgpLAogICAgICAgICAgICAgICAgJG1haWxlcgogICAgICAgICAgICApOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICR0aGlzLT5yZW5kZXIoJ3Jlc2V0X3Bhc3N3b3JkL3JlcXVlc3QuaHRtbC50d2lnJywgWwogICAgICAgICAgICAncmVxdWVzdEZvcm0nID0+ICRmb3JtLT5jcmVhdGVWaWV3KCksCiAgICAgICAgXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBDb25maXJtYXRpb24gcGFnZSBhZnRlciBhIHVzZXIgaGFzIHJlcXVlc3RlZCBhIHBhc3N3b3JkIHJlc2V0Lgo8P3BocCBpZiAoJHVzZV9hdHRyaWJ1dGVzKSB7ID8+CiAgICAgKi8KICAgICNbUm91dGUoJy9jaGVjay1lbWFpbCcsIG5hbWU6ICdhcHBfY2hlY2tfZW1haWwnKV0KPD9waHAgfSBlbHNlIHsgPz4KICAgICAqCiAgICAgKiBAUm91dGUoIi9jaGVjay1lbWFpbCIsIG5hbWU9ImFwcF9jaGVja19lbWFpbCIpCiAgICAgKi8KPD9waHAgfSA/PgogICAgcHVibGljIGZ1bmN0aW9uIGNoZWNrRW1haWwoKTogUmVzcG9uc2UKICAgIHsKICAgICAgICAvLyBXZSBwcmV2ZW50IHVzZXJzIGZyb20gZGlyZWN0bHkgYWNjZXNzaW5nIHRoaXMgcGFnZQogICAgICAgIGlmIChudWxsID09PSAoJHJlc2V0VG9rZW4gPSAkdGhpcy0+Z2V0VG9rZW5PYmplY3RGcm9tU2Vzc2lvbigpKSkgewogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2ZvcmdvdF9wYXNzd29yZF9yZXF1ZXN0Jyk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gJHRoaXMtPnJlbmRlcigncmVzZXRfcGFzc3dvcmQvY2hlY2tfZW1haWwuaHRtbC50d2lnJywgWwogICAgICAgICAgICAncmVzZXRUb2tlbicgPT4gJHJlc2V0VG9rZW4sCiAgICAgICAgXSk7CiAgICB9CgogICAgLyoqCiAgICAgKiBWYWxpZGF0ZXMgYW5kIHByb2Nlc3MgdGhlIHJlc2V0IFVSTCB0aGF0IHRoZSB1c2VyIGNsaWNrZWQgaW4gdGhlaXIgZW1haWwuCjw/cGhwIGlmICgkdXNlX2F0dHJpYnV0ZXMpIHsgPz4KICAgICAqLwogICAgI1tSb3V0ZSgnL3Jlc2V0L3t0b2tlbn0nLCBuYW1lOiAnYXBwX3Jlc2V0X3Bhc3N3b3JkJyldCjw/cGhwIH0gZWxzZSB7ID8+CiAgICAgKgogICAgICogQFJvdXRlKCIvcmVzZXQve3Rva2VufSIsIG5hbWU9ImFwcF9yZXNldF9wYXNzd29yZCIpCiAgICAgKi8KPD9waHAgfSA/PgogICAgcHVibGljIGZ1bmN0aW9uIHJlc2V0KFJlcXVlc3QgJHJlcXVlc3QsIFVzZXJQYXNzd29yZEVuY29kZXJJbnRlcmZhY2UgJHBhc3N3b3JkRW5jb2Rlciwgc3RyaW5nICR0b2tlbiA9IG51bGwpOiBSZXNwb25zZQogICAgewogICAgICAgIGlmICgkdG9rZW4pIHsKICAgICAgICAgICAgLy8gV2Ugc3RvcmUgdGhlIHRva2VuIGluIHNlc3Npb24gYW5kIHJlbW92ZSBpdCBmcm9tIHRoZSBVUkwsIHRvIGF2b2lkIHRoZSBVUkwgYmVpbmcKICAgICAgICAgICAgLy8gbG9hZGVkIGluIGEgYnJvd3NlciBhbmQgcG90ZW50aWFsbHkgbGVha2luZyB0aGUgdG9rZW4gdG8gM3JkIHBhcnR5IEphdmFTY3JpcHQuCiAgICAgICAgICAgICR0aGlzLT5zdG9yZVRva2VuSW5TZXNzaW9uKCR0b2tlbik7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX3Jlc2V0X3Bhc3N3b3JkJyk7CiAgICAgICAgfQoKICAgICAgICAkdG9rZW4gPSAkdGhpcy0+Z2V0VG9rZW5Gcm9tU2Vzc2lvbigpOwogICAgICAgIGlmIChudWxsID09PSAkdG9rZW4pIHsKICAgICAgICAgICAgdGhyb3cgJHRoaXMtPmNyZWF0ZU5vdEZvdW5kRXhjZXB0aW9uKCdObyByZXNldCBwYXNzd29yZCB0b2tlbiBmb3VuZCBpbiB0aGUgVVJMIG9yIGluIHRoZSBzZXNzaW9uLicpOwogICAgICAgIH0KCiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJHVzZXIgPSAkdGhpcy0+cmVzZXRQYXNzd29yZEhlbHBlci0+dmFsaWRhdGVUb2tlbkFuZEZldGNoVXNlcigkdG9rZW4pOwogICAgICAgIH0gY2F0Y2ggKFJlc2V0UGFzc3dvcmRFeGNlcHRpb25JbnRlcmZhY2UgJGUpIHsKICAgICAgICAgICAgJHRoaXMtPmFkZEZsYXNoKCdyZXNldF9wYXNzd29yZF9lcnJvcicsIHNwcmludGYoCiAgICAgICAgICAgICAgICAnVGhlcmUgd2FzIGEgcHJvYmxlbSB2YWxpZGF0aW5nIHlvdXIgcmVzZXQgcmVxdWVzdCAtICVzJywKICAgICAgICAgICAgICAgICRlLT5nZXRSZWFzb24oKQogICAgICAgICAgICApKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfZm9yZ290X3Bhc3N3b3JkX3JlcXVlc3QnKTsKICAgICAgICB9CgogICAgICAgIC8vIFRoZSB0b2tlbiBpcyB2YWxpZDsgYWxsb3cgdGhlIHVzZXIgdG8gY2hhbmdlIHRoZWlyIHBhc3N3b3JkLgogICAgICAgICRmb3JtID0gJHRoaXMtPmNyZWF0ZUZvcm0oPD89ICRyZXNldF9mb3JtX3R5cGVfY2xhc3NfbmFtZSA/Pjo6Y2xhc3MpOwogICAgICAgICRmb3JtLT5oYW5kbGVSZXF1ZXN0KCRyZXF1ZXN0KTsKCiAgICAgICAgaWYgKCRmb3JtLT5pc1N1Ym1pdHRlZCgpICYmICRmb3JtLT5pc1ZhbGlkKCkpIHsKICAgICAgICAgICAgLy8gQSBwYXNzd29yZCByZXNldCB0b2tlbiBzaG91bGQgYmUgdXNlZCBvbmx5IG9uY2UsIHJlbW92ZSBpdC4KICAgICAgICAgICAgJHRoaXMtPnJlc2V0UGFzc3dvcmRIZWxwZXItPnJlbW92ZVJlc2V0UmVxdWVzdCgkdG9rZW4pOwoKICAgICAgICAgICAgLy8gRW5jb2RlIHRoZSBwbGFpbiBwYXNzd29yZCwgYW5kIHNldCBpdC4KICAgICAgICAgICAgJGVuY29kZWRQYXNzd29yZCA9ICRwYXNzd29yZEVuY29kZXItPmVuY29kZVBhc3N3b3JkKAogICAgICAgICAgICAgICAgJHVzZXIsCiAgICAgICAgICAgICAgICAkZm9ybS0+Z2V0KCdwbGFpblBhc3N3b3JkJyktPmdldERhdGEoKQogICAgICAgICAgICApOwoKICAgICAgICAgICAgJHVzZXItPjw/PSAkcGFzc3dvcmRfc2V0dGVyID8+KCRlbmNvZGVkUGFzc3dvcmQpOwogICAgICAgICAgICAkdGhpcy0+Z2V0RG9jdHJpbmUoKS0+Z2V0TWFuYWdlcigpLT5mbHVzaCgpOwoKICAgICAgICAgICAgLy8gVGhlIHNlc3Npb24gaXMgY2xlYW5lZCB1cCBhZnRlciB0aGUgcGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZC4KICAgICAgICAgICAgJHRoaXMtPmNsZWFuU2Vzc2lvbkFmdGVyUmVzZXQoKTsKCiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCc8Pz0gJHN1Y2Nlc3NfcmVkaXJlY3Rfcm91dGUgPz4nKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVuZGVyKCdyZXNldF9wYXNzd29yZC9yZXNldC5odG1sLnR3aWcnLCBbCiAgICAgICAgICAgICdyZXNldEZvcm0nID0+ICRmb3JtLT5jcmVhdGVWaWV3KCksCiAgICAgICAgXSk7CiAgICB9CgogICAgcHJpdmF0ZSBmdW5jdGlvbiBwcm9jZXNzU2VuZGluZ1Bhc3N3b3JkUmVzZXRFbWFpbChzdHJpbmcgJGVtYWlsRm9ybURhdGEsIE1haWxlckludGVyZmFjZSAkbWFpbGVyKTogUmVkaXJlY3RSZXNwb25zZQogICAgewogICAgICAgICR1c2VyID0gJHRoaXMtPmdldERvY3RyaW5lKCktPmdldFJlcG9zaXRvcnkoPD89ICR1c2VyX2NsYXNzX25hbWUgPz46OmNsYXNzKS0+ZmluZE9uZUJ5KFsKICAgICAgICAgICAgJzw/PSAkZW1haWxfZmllbGQgPz4nID0+ICRlbWFpbEZvcm1EYXRhLAogICAgICAgIF0pOwoKICAgICAgICAvLyBEbyBub3QgcmV2ZWFsIHdoZXRoZXIgYSB1c2VyIGFjY291bnQgd2FzIGZvdW5kIG9yIG5vdC4KICAgICAgICBpZiAoISR1c2VyKSB7CiAgICAgICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfY2hlY2tfZW1haWwnKTsKICAgICAgICB9CgogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRyZXNldFRva2VuID0gJHRoaXMtPnJlc2V0UGFzc3dvcmRIZWxwZXItPmdlbmVyYXRlUmVzZXRUb2tlbigkdXNlcik7CiAgICAgICAgfSBjYXRjaCAoUmVzZXRQYXNzd29yZEV4Y2VwdGlvbkludGVyZmFjZSAkZSkgewogICAgICAgICAgICAvLyBJZiB5b3Ugd2FudCB0byB0ZWxsIHRoZSB1c2VyIHdoeSBhIHJlc2V0IGVtYWlsIHdhcyBub3Qgc2VudCwgdW5jb21tZW50CiAgICAgICAgICAgIC8vIHRoZSBsaW5lcyBiZWxvdyBhbmQgY2hhbmdlIHRoZSByZWRpcmVjdCB0byAnYXBwX2ZvcmdvdF9wYXNzd29yZF9yZXF1ZXN0Jy4KICAgICAgICAgICAgLy8gQ2F1dGlvbjogVGhpcyBtYXkgcmV2ZWFsIGlmIGEgdXNlciBpcyByZWdpc3RlcmVkIG9yIG5vdC4KICAgICAgICAgICAgLy8KICAgICAgICAgICAgLy8gJHRoaXMtPmFkZEZsYXNoKCdyZXNldF9wYXNzd29yZF9lcnJvcicsIHNwcmludGYoCiAgICAgICAgICAgIC8vICAgICAnVGhlcmUgd2FzIGEgcHJvYmxlbSBoYW5kbGluZyB5b3VyIHBhc3N3b3JkIHJlc2V0IHJlcXVlc3QgLSAlcycsCiAgICAgICAgICAgIC8vICAgICAkZS0+Z2V0UmVhc29uKCkKICAgICAgICAgICAgLy8gKSk7CgogICAgICAgICAgICByZXR1cm4gJHRoaXMtPnJlZGlyZWN0VG9Sb3V0ZSgnYXBwX2NoZWNrX2VtYWlsJyk7CiAgICAgICAgfQoKICAgICAgICAkZW1haWwgPSAobmV3IFRlbXBsYXRlZEVtYWlsKCkpCiAgICAgICAgICAgIC0+ZnJvbShuZXcgQWRkcmVzcygnPD89ICRmcm9tX2VtYWlsID8+JywgJzw/PSAkZnJvbV9lbWFpbF9uYW1lID8+JykpCiAgICAgICAgICAgIC0+dG8oJHVzZXItPjw/PSAkZW1haWxfZ2V0dGVyID8+KCkpCiAgICAgICAgICAgIC0+c3ViamVjdCgnWW91ciBwYXNzd29yZCByZXNldCByZXF1ZXN0JykKICAgICAgICAgICAgLT5odG1sVGVtcGxhdGUoJ3Jlc2V0X3Bhc3N3b3JkL2VtYWlsLmh0bWwudHdpZycpCiAgICAgICAgICAgIC0+Y29udGV4dChbCiAgICAgICAgICAgICAgICAncmVzZXRUb2tlbicgPT4gJHJlc2V0VG9rZW4sCiAgICAgICAgICAgIF0pCiAgICAgICAgOwoKICAgICAgICAkbWFpbGVyLT5zZW5kKCRlbWFpbCk7CgogICAgICAgIC8vIFN0b3JlIHRoZSB0b2tlbiBvYmplY3QgaW4gc2Vzc2lvbiBmb3IgcmV0cmlldmFsIGluIGNoZWNrLWVtYWlsIHJvdXRlLgogICAgICAgICR0aGlzLT5zZXRUb2tlbk9iamVjdEluU2Vzc2lvbigkcmVzZXRUb2tlbik7CgogICAgICAgIHJldHVybiAkdGhpcy0+cmVkaXJlY3RUb1JvdXRlKCdhcHBfY2hlY2tfZW1haWwnKTsKICAgIH0KfQoiO3M6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAbmFtZXNwYWNlcyI7YTowOnt9czo0MzoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBpbmNsdWRlcyI7YTowOnt9czo0NDoiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQBmdW5jdGlvbnMiO2E6MDp7fXM6NDQ6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAY29uc3RhbnRzIjthOjA6e31zOjQyOiIAcGhwRG9jdW1lbnRvclxSZWZsZWN0aW9uXFBocFxGaWxlAGNsYXNzZXMiO2E6MDp7fXM6NDU6IgBwaHBEb2N1bWVudG9yXFJlZmxlY3Rpb25cUGhwXEZpbGUAaW50ZXJmYWNlcyI7YTowOnt9czo0MToiAHBocERvY3VtZW50b3JcUmVmbGVjdGlvblxQaHBcRmlsZQB0cmFpdHMiO2E6MDp7fX0=";